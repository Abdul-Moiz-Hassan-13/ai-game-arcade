<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MBTI Personality Predictor</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f8f9fa;
      text-align: center;
      padding: 20px;
      color: #333;
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 30px;
      color: #2c3e50;
    }

    .question {
      margin: 15px 0;
      text-align: left;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: transform 0.2s;
    }

    .question:hover {
      transform: translateY(-2px);
    }

    label {
      margin-right: 20px;
      cursor: pointer;
    }

    button {
      padding: 12px 25px;
      margin-top: 20px;
      font-size: 1.1em;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    button:hover {
      background: #2980b9;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }

    #result {
      margin: 40px auto;
      max-width: 600px;
    }

    .result-card {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      text-align: left;
      border-top: 5px solid #3498db;
      transition: transform 0.3s;
    }

    .result-card:hover {
      transform: translateY(-5px);
    }

    .mbti-type {
      font-size: 2.2em;
      color: #2c3e50;
      margin-bottom: 10px;
      font-weight: bold;
    }

    .full-form {
      font-size: 1.2em;
      color: #3498db;
      margin-bottom: 20px;
      font-weight: 500;
    }

    .section-title {
      font-weight: bold;
      color: #2c3e50;
      margin-top: 15px;
      display: block;
    }

    .careers-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    .career-pill {
      background: #e8f4fc;
      color: #3498db;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.9em;
    }

    .traits {
      font-style: italic;
      color: #7f8c8d;
    }

    .description {
      line-height: 1.6;
      margin: 15px 0;
    }
  </style>
</head>
<body>

  <h1>üß† MBTI Personality Predictor</h1>
  <form id="quizForm">

    <div class="question">
        <p>1. I enjoy large social gatherings.</p>
        <label><input type="radio" name="q1" value="1" required> Yes</label>
        <label><input type="radio" name="q1" value="0"> No</label>
    </div>
    <div class="question">
        <p>2. I feel drained after too much interaction.</p>
        <label><input type="radio" name="q2" value="0" required> Yes</label>
        <label><input type="radio" name="q2" value="1"> No</label>
    </div>
    <div class="question">
        <p>3. I speak before thinking in most conversations.</p>
        <label><input type="radio" name="q3" value="1" required> Yes</label>
        <label><input type="radio" name="q3" value="0"> No</label>
    </div>
    <div class="question">
        <p>4. I prefer one-on-one conversations to group talks.</p>
        <label><input type="radio" name="q4" value="0" required> Yes</label>
        <label><input type="radio" name="q4" value="1"> No</label>
    </div>

    <div class="question">
        <p>5. I rely on facts rather than intuition.</p>
        <label><input type="radio" name="q5" value="0" required> Yes</label>
        <label><input type="radio" name="q5" value="1"> No</label>
    </div>
    <div class="question">
        <p>6. I focus more on the big picture than details.</p>
        <label><input type="radio" name="q6" value="1" required> Yes</label>
        <label><input type="radio" name="q6" value="0"> No</label>
    </div>
    <div class="question">
        <p>7. I trust experience over hunches.</p>
        <label><input type="radio" name="q7" value="0" required> Yes</label>
        <label><input type="radio" name="q7" value="1"> No</label>
    </div>
    <div class="question">
        <p>8. I like theories and concepts more than facts.</p>
        <label><input type="radio" name="q8" value="1" required> Yes</label>
        <label><input type="radio" name="q8" value="0"> No</label>
    </div>

    <div class="question">
        <p>9. I prefer logical decisions over emotional ones.</p>
        <label><input type="radio" name="q9" value="0" required> Yes</label>
        <label><input type="radio" name="q9" value="1"> No</label>
    </div>
    <div class="question">
        <p>10. I analyze everything rationally.</p>
        <label><input type="radio" name="q10" value="0" required> Yes</label>
        <label><input type="radio" name="q10" value="1"> No</label>
    </div>
    <div class="question">
        <p>11. I care more about fairness than feelings.</p>
        <label><input type="radio" name="q11" value="0" required> Yes</label>
        <label><input type="radio" name="q11" value="1"> No</label>
    </div>
    <div class="question">
        <p>12. I prioritize empathy over logic.</p>
        <label><input type="radio" name="q12" value="1" required> Yes</label>
        <label><input type="radio" name="q12" value="0"> No</label>
    </div>

    <div class="question">
        <p>13. I prefer schedules and structure.</p>
        <label><input type="radio" name="q13" value="0" required> Yes</label>
        <label><input type="radio" name="q13" value="1"> No</label>
    </div>
    <div class="question">
        <p>14. I keep my options open until the last moment.</p>
        <label><input type="radio" name="q14" value="1" required> Yes</label>
        <label><input type="radio" name="q14" value="0"> No</label>
    </div>
    <div class="question">
        <p>15. I'm spontaneous more than planned.</p>
        <label><input type="radio" name="q15" value="1" required> Yes</label>
        <label><input type="radio" name="q15" value="0"> No</label>
    </div>
    <div class="question">
        <p>16. I like knowing what's coming ahead of time.</p>
        <label><input type="radio" name="q16" value="0" required> Yes</label>
        <label><input type="radio" name="q16" value="1"> No</label>
    </div>
    <div class="question">
        <p>17. I find it easy to start conversations with strangers.</p>
        <label><input type="radio" name="q17" value="1" required> Yes</label>
        <label><input type="radio" name="q17" value="0"> No</label>
    </div>
      
    <div class="question">
        <p>18. I prefer learning from hands-on experience over theories.</p>
        <label><input type="radio" name="q18" value="0" required> Yes</label>
        <label><input type="radio" name="q18" value="1"> No</label>
    </div>
      
    <div class="question">
        <p>19. I find it difficult to make decisions without considering emotions.</p>
        <label><input type="radio" name="q19" value="1" required> Yes</label>
        <label><input type="radio" name="q19" value="0"> No</label>
    </div>
      
    <div class="question">
        <p>20. I get stressed if things don't go according to plan.</p>
        <label><input type="radio" name="q20" value="0" required> Yes</label>
        <label><input type="radio" name="q20" value="1"> No</label>
    </div>      

    <button type="submit">üîç Predict Personality</button>
  </form>

  <div id="result"></div>

  <script>
    const form = document.getElementById("quizForm");
    const resultDiv = document.getElementById("result");

    form.addEventListener("submit", function(e) {
        e.preventDefault();

        const answers = [];
        for (let i = 1; i <= 20; i++) {
            const selected = document.querySelector(`input[name="q${i}"]:checked`);
            if (!selected) return alert("Please answer all questions.");
            answers.push(parseInt(selected.value));
        }

        fetch("/personality-evaluator/predict", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ answers })
        })
        .then(res => res.json())
        .then(data => {
            if (data.error) {
                resultDiv.textContent = data.error;
            } else {
                resultDiv.innerHTML = `
                    <div class="result-card">
                        <div class="mbti-type">You are: ${data.mbti}</div>
                        <div class="full-form">${data.full_form}</div>
                        
                        <span class="section-title">Traits:</span>
                        <div class="traits">${data.traits}</div>
                        
                        <span class="section-title">Description:</span>
                        <div class="description">${data.description}</div>
                        
                        <span class="section-title">Recommended Careers:</span>
                        <div class="careers-list">
                            ${data.careers.map(c => `<div class="career-pill">${c}</div>`).join('')}
                        </div>
                    </div>
                `;
            }
        });
    });
  </script>

</body>
</html>